---
# tasks file for setup-shell

- name: Install required packages for MacOS
  ansible.builtin.include_tasks:
    file:
      - install_requirements_darwin.yml
  when: ansible_facts['distribution'] == 'Darwin'

- name: Install required packages for Debian
  ansible.builtin.include_tasks:
    file:
      - install_requirements_debian.yml
  when: ansible_facts['distribution'] == 'Debian'

- name: Install required packages for RedHat
  ansible.builtin.include_tasks:
    file:
      - install_requirements_redhat.yml
  when: ansible_facts['distribution'] == 'RedHat'

- name: Setup shell for *nix type systems.
  ansible.builtin.include_tasks:
    file: '{{ tasks.src_file }}'
    loop:
      - { src_file: 'setup_zsh.yml' }
      - { src_file: 'setup_powerlevel_10k.yml' }
      - { src_file: 'setup_vim.yml' }
  loop_control:
    loop_var: tasks
